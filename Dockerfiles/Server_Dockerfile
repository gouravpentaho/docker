use jdk8 on ubuntu
install wget, unzip, sudo
install psql client

create devuser and set as admin

add devuser to docker group

wget pentaho server
wget 3 plugins
unzip all of them
Install server
Install plugins
wget
wget http://build.pentaho.net/hosted/9.2.0.0/290/pentaho-server-ee-9.2.0.0-290-dist.zip
wget http://build.pentaho.net/hosted/9.2.0.0/290/pir-plugin-ee-9.2.0.0-290-dist.zip
unzip -q pir-plugin-ee-9.2.0.0-290-dist.zip
wget http://build.pentaho.net/hosted/9.2.0.0/290/paz-plugin-ee-9.2.0.0-290-dist.zip
unzip -q paz-plugin-ee-9.2.0.0-290-dist.zip
wget http://build.pentaho.net/hosted/9.2.0.0/290/pdd-plugin-ee-9.2.0.0-290-dist.zip
unzip -q pdd-plugin-ee-9.2.0.0-290-dist.zip

java -DINSTALL_PATH=/home/devuser/pentaho/ -DEULA_ACCEPT=true -jar /opt/pdi-installer/${PRODUCT}/installer.jar -options-system
java -DINSTALL_PATH=/home/devuser/pentaho/pentaho-server/pentaho-solutions/system/ -DEULA_ACCEPT=true -jar /home/devuser/pdi-installer/pir-plugin-ee-9.2.0.0-290/installer.jar -options-system
java -DINSTALL_PATH=/home/devuser/pentaho/pentaho-server/pentaho-solutions/system/ -DEULA_ACCEPT=true -jar /home/devuser/pdi-installer/paz-plugin-ee-9.2.0.0-290/installer.jar -options-system
java -DINSTALL_PATH=/home/devuser/pentaho/pentaho-server/pentaho-solutions/system/ -DEULA_ACCEPT=true -jar /home/devuser/pdi-installer/pdd-plugin-ee-9.2.0.0-290/installer.jar -options-system

wget -r -nH --cut-dirs=2 --no-parent --reject="index.html*" http://build.pentaho.net/hosted/engops/licenses/

call Entrypoint scripts to run psql commands

psql to postgres container
run db commands

docker exec -it postgres_db psql -U postgres

docker exec -it --user postgres postgres_db /bin/bash
psql
\i /home/devuser/pentaho/pentaho-server/data/postgresql/create_quartz_postgresql.sql
\i /home/devuser/pentaho/pentaho-server/data/postgresql/create_repository_postgresql.sql
\i /home/devuser/pentaho/pentaho-server/data/postgresql/create_jcr_postgresql.sql
\i /home/devuser/pentaho/pentaho-server/data/postgresql/pentaho_mart_postgresql.sql